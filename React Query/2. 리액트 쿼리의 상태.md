# 리액트 쿼리
## 리액트 쿼리의 상태
### Query들은 4개의 상태를 가지고, useQuery가 반환하는 객체의 프로퍼티로 어떤 상태인지 확인이 가능하다. 

#### fresh : 새롭게 추가된 쿼리 & 만료되지 않은 쿼리 인스턴스
- 컴포넌트가 마운트, 업데이트 되어도 데이터 재요청 보내지 않는다. 
- active 상태의 시작, 기본 staleTime이 0이기 때문에 아무것도 설정을 안해주면 호출이 끝나고 바로 stale 상태로 변한다. 
- staleTime을 늘려줄 경우 fresh한 상태가 유지되는데, 이때 쿼리가 다시 마운트되도 패칭이 발생하지 않고 기존의 fresh한 값을 반환한다. 

#### fetching
- 요청을 수행하는 중인 쿼리

#### stale
- 인스턴스가 존재하지만 이미 패칭이 완료된 쿼리 => 만료된 쿼리
- 특정 쿼리가 stale된 상태에서 같은 쿼리 마운트를 시도한다면 캐싱된 데이터를 반환하면서 리패칭을 시도한다. 
  - 컴포넌트가 마운트, 업데이트 되면 데이터를 재요청한다. 

#### inactive
- active 인스턴스가 하나도 없는 쿼리 => 비활성화된 쿼리
- inactive된 이후에도 cacheTime 동안 캐시된 데이터가 유지된다.
- 특정 시간이 지나면 가비지 컬렉터에 의해 제거된다. 

#### 가비지 컬렉터
- 자바스크립트는 눈에 보이지 않는 곳에서 메모리 관리를 수행한다. 
- 자바스크립트 엔진은 가비지 컬렉터가 끊임없이 동작하고, 필요 없는 것을 찾아내서 삭제한다. 
